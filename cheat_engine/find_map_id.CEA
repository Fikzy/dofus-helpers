[ENABLE]
aobscan(mapidreading,66 0F D6 46 68 83)
alloc(newmem,$1000)

label(code)
label(return)

globalalloc(_mapid,8)

newmem:

code:
  mov [_mapid],esi
  movq [esi+68],xmm0
  jmp return

mapidreading:
  jmp newmem
return:
registersymbol(mapidreading)

[DISABLE]
mapidreading:
  db 66 0F D6 46 68

unregistersymbol(mapidreading)
dealloc(newmem)
